<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cuestionario Psicológico Postmisión</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --color-armada-blue: #173763;
            --color-armada-gray: #C7C7C7;
            --color-armada-white: #FFFFFF;
        }

        html, body {
            font-family: 'Verdana', sans-serif;
            background-color: var(--color-armada-gray);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            padding: 0;
            box-sizing: border-box;
            line-height: 1.5;
        }

        p, label, input, textarea, table, th, td, h1, h2, button {
            font-family: 'Verdana', sans-serif;
        }

        ::selection {
            background-color: #bfdbfe;
            color: #1e3a8a;
        }

        .header-armada {
            background-color: var(--color-armada-blue);
            width: 100%;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .header-armada .logo-image {
            height: 100px;
            min-width: 160px;
            object-fit: contain;
        }
        .header-armada .title-block {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        .header-armada .title-block h1 {
            color: var(--color-armada-white);
            font-size: 1.8rem;
            font-weight: bold;
            text-transform: uppercase;
            margin: 0;
            text-align: right;
        }
        .header-armada .title-block .title-image {
            height: 40px;
            min-width: 80px;
            object-fit: contain;
            margin-top: 0.5rem;
        }

        .container {
            background: var(--color-armada-white);
            padding: 2.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 80rem;
            box-sizing: border-box;
            margin-bottom: 2rem;
            border: 1px solid var(--color-armada-blue);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: var(--color-armada-white);
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            width: 400px;
            text-align: center;
            position: relative;
        }
        .modal-close-button {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }

        .question-group {
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .question-group:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            color: #374151;
            /* Eliminar margin-bottom directo aquí, dejar que Tailwind 'space-y-2' lo maneje */
        }
        .radio-option input[type="radio"],
        .checkbox-option input[type="checkbox"] {
            margin-right: 0.75rem;
            accent-color: var(--color-armada-blue);
        }


        input[type="text"], input[type="tel"], textarea {
            border-color: #d1d5db;
            border-width: 1px;
            padding: 0.625rem 0.75rem;
            border-radius: 0.375rem;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            color: #374151;
        }
        input[type="text"]:focus, input[type="tel"]:focus, textarea:focus {
            outline: none;
            border-color: var(--color-armada-blue);
            box-shadow: 0 0 0 3px rgba(23, 55, 99, 0.3);
        }

        h1 {
            color: var(--color-armada-white);
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }
        h2 {
            color: var(--color-armada-blue);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }
        p {
            color: #374151;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        p.italic {
            font-style: italic;
            color: #4b5563;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
        }
        th {
            background-color: #e5e7eb;
            color: #4b5563;
            font-weight: 600;
            text-transform: uppercase;
        }
        tr:nth-child(even) {
            background-color: #f9fafb;
        }
        tr:hover {
            background-color: #eef2ff;
        }
    </style>
</head>
<body class="selection:bg-blue-200 selection:text-blue-900">
    <header class="header-armada">
        <img src="logo.png";" alt="Logotipo de la Armada Española" class="logo-image" />
        <div class="title-block">
            <h1>Cuestionario Psicológico Postmisión</h1>
            <img src="identificar.png" alt="Identificador Corporativo" class="title-image" />
        </div>
    </header>

    <div class="container">
        <p class="mb-6 text-center leading-relaxed">Este cuestionario tiene como finalidad ayudarle a identificar si ha experimentado cambios emocionales, psicológicos o conductuales tras su regreso de una navegación. Su colaboración es muy importante para poder ofrecerle apoyo si lo necesita.</p>
        <p class="mb-6 text-center leading-relaxed">Por favor, lea atentamente cada una de las preguntas. En la mayoría de los casos, deberá marcar la opción que mejor refleje su situación o experiencia reciente. En algunas preguntas específicas se le solicitará que escriba una respuesta breve en el espacio indicado.</p>

        <form id="questionnaireForm">
            <section class="question-group">
                <h2><b>DATOS DE FILIACIÓN</b></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="nombre" class="block text-sm font-semibold mb-2">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" class="w-full py-2 px-3" placeholder="Introduce tu nombre" />
                    </div>
                    <div>
                        <label for="apellidos" class="block text-sm font-semibold mb-2">Apellidos:</label>
                        <input type="text" id="apellidos" name="apellidos" class="w-full py-2 px-3" placeholder="Introduce tus apellidos" />
                    </div>
                    <div>
                        <label for="dni" class="block text-sm font-semibold mb-2">DNI:</label>
                        <input type="text" id="dni" name="dni" class="w-full py-2 px-3" placeholder="Introduce tu DNI" />
                    </div>
                    <div>
                        <label for="empleo" class="block text-sm font-semibold mb-2">Empleo:</label>
                        <input type="text" id="empleo" name="empleo" class="w-full py-2 px-3" placeholder="Introduce tu empleo" />
                    </div>
                    <div>
                        <label for="destino" class="block text-sm font-semibold mb-2">Destino:</label>
                        <input type="text" id="destino" name="destino" class="w-full py-2 px-3" placeholder="Introduce tu destino" />
                    </div>
                    <div>
                        <label for="ultimoDespliegue" class="block text-sm font-semibold mb-2">Último despliegue:</label>
                        <input type="text" id="ultimoDespliegue" name="ultimoDespliegue" class="w-full py-2 px-3" placeholder="Ej: Zona de operaciones / Misión" />
                    </div>
                    <div>
                        <label for="telefonoContacto" class="block text-sm font-semibold mb-2">Teléfono de contacto (opcional):</label>
                        <input type="tel" id="telefonoContacto" name="telefonoContacto" class="w-full py-2 px-3" placeholder="Introduce tu teléfono" />
                    </div>
                </div>
            </section>

            <!-- Pregunta 1 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">1. En general, ¿Cómo calificaría su estado de salud en el ÚLTIMO MES?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="saludGeneral" value="Excelente" /> Excelente</label>
                    <label class="radio-option"><input type="radio" name="saludGeneral" value="Muy bueno" /> Muy bueno</label>
                    <label class="radio-option"><input type="radio" name="saludGeneral" value="Bueno" /> Bueno</label>
                    <label class="radio-option"><input type="radio" name="saludGeneral" value="Regular" /> Regular</label>
                    <label class="radio-option"><input type="radio" name="saludGeneral" value="Malo" /> Malo</label>
                </div>
            </section>

            <!-- Pregunta 2 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">2. ¿Cómo calificaría su salud actual, en general, si lo compara con la de antes de hacer esta navegación?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="saludComparada" value="Mucho mejor antes que ahora" /> Mucho mejor antes que ahora</label>
                    <label class="radio-option"><input type="radio" name="saludComparada" value="Algo mejor ahora que antes de navegar" /> Algo mejor ahora que antes de navegar</label>
                    <label class="radio-option"><input type="radio" name="saludComparada" value="Mas o menos igual que antes de navegar" /> Más o menos igual que antes de navegar</label>
                    <label class="radio-option"><input type="radio" name="saludComparada" value="Algo peor ahora que antes de navegar. ¿Por qué?" /> Algo peor ahora que antes de navegar. ¿Por qué?</label>
                    <label class="radio-option"><input type="radio" name="saludComparada" value="Mucho peor ahora que antes de navegar. ¿Por qué?" /> Mucho peor ahora que antes de navegar. ¿Por qué?</label>
                </div>
                <textarea id="saludComparadaPorQue" name="saludComparadaPorQue" class="w-full py-2 px-3 mt-2 hidden" placeholder="Explica por qué tu salud es peor..."></textarea>
            </section>

            <!-- Pregunta 3 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">3. Durante las últimas 4 semanas, ¿Ha tenido problemas de salud (enfermedad o lesión) que le hayan ocasionado dificultades en su trabajo o vida diaria?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="problemasSalud" value="No, ninguno" /> No, ninguno</label>
                    <label class="radio-option"><input type="radio" name="problemasSalud" value="Alguno/s" /> Alguno/s</label>
                    <label class="radio-option"><input type="radio" name="problemasSalud" value="Bastantes" /> Bastantes</label>
                    <label class="radio-option"><input type="radio" name="problemasSalud" value="Muchos" /> Muchos</label>
                </div>
            </section>

            <!-- Pregunta 4 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">4. Durante las últimas 4 semanas, ¿Ha tenido problemas emocionales (como sentirse deprimido o ansioso) que le hayan ocasionado dificultades en su trabajo, en su día a día o en sus relaciones personales?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="problemasEmocionales" value="No, ninguno" /> No, ninguno</label>
                    <label class="radio-option"><input type="radio" name="problemasEmocionales" value="Alguno/s" /> Alguno/s</label>
                    <label class="radio-option"><input type="radio" name="problemasEmocionales" value="Bastantes" /> Bastantes</label>
                    <label class="radio-option"><input type="radio" name="problemasEmocionales" value="Muchos" /> Muchos</label>
                </div>
            </section>

            <!-- Pregunta 5 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">5. Desde que volviste de navegar, ¿Cuántas veces has ido al médico por alguna razón (urgencias, médico de familia, psicólogo)?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="visitasMedico" value="Ninguna" /> Ninguna</label>
                    <label class="radio-option"><input type="radio" name="visitasMedico" value="1 vez" /> 1 vez</label>
                    <label class="radio-option"><input type="radio" name="visitasMedico" value="2-3 veces" /> 2-3 veces</label>
                    <label class="radio-option"><input type="radio" name="visitasMedico" value="4-5 veces" /> 4-5 veces</label>
                    <label class="radio-option"><input type="radio" name="visitasMedico" value="6 o más" /> 6 o más</label>
                </div>
            </section>

            <!-- Pregunta 6 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">6. Desde que volviste de navegar, ¿Has estado ingresado/hospitalizado?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="hospitalizado" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="hospitalizado" value="No" /> No</label>
                </div>
            </section>

            <!-- Pregunta 7 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">7. Durante la navegación, ¿Has sufrido alguna lesión o accidente en el que resultaste herido?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="lesionAccidente" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="lesionAccidente" value="No" /> No</label>
                </div>
                <div id="lesionAccidenteFollowUp" class="mt-4 hidden">
                    <p class="text-base font-medium mb-2">Si ha respondido SÍ, ¿Continúa teniendo problemas relacionado con ello?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="problemasLesion" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="problemasLesion" value="No" /> No</label>
                        <label class="radio-option"><input type="radio" name="problemasLesion" value="No estoy seguro" /> No estoy seguro</label>
                    </div>
                </div>
            </section>

            <!-- Pregunta 8 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">8. Durante la navegación:</p>
                <div class="mb-3">
                    <p class="text-base font-medium mb-2">a) ¿Hubo alguna ocasión en la que sintiera que podría morir o estuvo en peligro?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="peligroMuerte" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="peligroMuerte" value="No" /> No</label>
                    </div>
                </div>
                <div class="mb-3">
                    <p class="text-base font-medium mb-2">b) ¿Vió cadáveres, personas heridas o fallecidas durante el despliegue?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="vioCadaveres" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="vioCadaveres" value="No" /> No</label>
                    </div>
                </div>
                <div>
                    <p class="text-base font-medium mb-2">c) ¿Participó en combate directo o tuvo que usar un arma?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="combateArma" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="combateArma" value="No" /> No</label>
                    </div>
                </div>
            </section>

            <!-- Pregunta 9 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">9. Durante el último mes, ¿Ha habido algún acontecimiento en su vida que le preocupe o le dificulte su trabajo, su día a día en casa o su relación con otras personas (por ejemplo, conflictos serios con los demás, problemas legales, disciplinarios o financieros)?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="acontecimientoPreocupante" value="No" /> No</label>
                    <label class="radio-option"><input type="radio" name="acontecimientoPreocupante" value="Si" /> Sí. (Por favor, explique)</label>
                </div>
                <textarea id="acontecimientoPreocupanteExplica" name="acontecimientoPreocupanteExplica" class="w-full py-2 px-3 mt-2 hidden" placeholder="Explica el acontecimiento..."></textarea>
                <div id="acontecimientoPreocupanteFollowUp" class="mt-4 hidden">
                    <p class="text-base font-medium mb-2">Si ha respondido afirmativamente: ¿Está recibiendo actualmente algún tipo de tratamiento médico o psicológico por este problema?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="tratamientoAcontecimiento" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="tratamientoAcontecimiento" value="No" /> No</label>
                    </div>
                </div>
            </section>

            <!-- Pregunta 10 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">10. Además de lo anterior, ¿Actualmente le preocupa alguno de los siguientes síntomas y cree que está relacionado con la última navegación?</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Fiebre" /> Fiebre</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Visión borrosa o disminución de la vista" /> Visión borrosa o disminución de la vista</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Tos más de tres veces por semana" /> Tos más de tres veces por semana</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dolor o presión en el pecho" /> Dolor o presión en el pecho</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dificultad para respirar" /> Dificultad para respirar</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Mareos / desmayos / pérdida de conciencia" /> Mareos / desmayos / pérdida de conciencia</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dolor de cabeza" /> Dolor de cabeza</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Diarrea, vómitos, indigestión o ardores" /> Diarrea, vómitos, indigestión o ardores</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Cansancio general" /> Cansancio general</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Problemas para dormir o sueño no reparador" /> Problemas para dormir o sueño no reparador</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dolor muscular" /> Dolor muscular</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Problemas de concentración / se distrae fácilmente" /> Problemas de concentración / se distrae fácilmente</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dolor en las articulaciones" /> Dolor en las articulaciones</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Problemas de memoria o para recordar cosas" /> Problemas de memoria o para recordar cosas</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dolor de espalda" /> Dolor de espalda</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Dificultades para tomar decisiones" /> Dificultades para tomar decisiones</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Hormigueo o calambres en manos/pies" /> Hormigueo o calambres en manos/pies</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Irritabilidad / ira" /> Irritabilidad / ira</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Problemas de oído / dificultad para oír" /> Problemas de oído / dificultad para oír</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Aumento de conductas de riesgo como correr con el coche" /> Aumento de conductas de riesgo como correr con el coche</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Tinnitus / acufenos / pitidos en los oídos" /> Tinnitus / acúfenos / pitidos en los oídos</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Erupciones o problemas en la piel" /> Erupciones o problemas en la piel</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Ojos vidriosos / enrojecidos" /> Ojos vidriosos / enrojecidos</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Ninguno" /> Ninguno</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Palpitaciones / aumento frecuencia cardíaca" /> Palpitaciones / aumento frecuencia cardíaca</label>
                    <label class="checkbox-option"><input type="checkbox" name="sintomas" value="Otro" id="otroSintomaCheckbox" /> Otro (explique)</label>
                </div>
                <textarea id="otroSintomaExplica" name="otroSintomaExplica" class="w-full py-2 px-3 mt-2 hidden" placeholder="Explica otros síntomas..."></textarea>
            </section>

            <!-- Pregunta 11 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">11. ¿Está usted casado/a o en una relación sentimental con otra persona?</p>
                <div class="flex space-x-4 mb-2">
                    <label class="radio-option"><input type="radio" name="relacionSentimental" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="relacionSentimental" value="No" /> No</label>
                </div>
                <p class="text-lg font-medium mb-3">¿Está usted pasando por un proceso de separación o divorcio?</p>
                <div class="flex space-x-4 mb-2">
                    <label class="radio-option"><input type="radio" name="procesoSeparacion" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="procesoSeparacion" value="No" /> No</label>
                </div>

                <div id="relacionesFollowUp" class="mt-4 hidden">
                    <p class="text-base font-medium mb-2">a) ¿Ha atravesado problemas importantes en su matrimonio u otras relaciones personales como conflictos graves, abuso, infidelidad, abuso de sustancias y/o problemas financieros?</p>
                    <div class="flex flex-col space-y-2 mb-3">
                        <label class="radio-option"><input type="radio" name="problemasImportantesRelacion" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="problemasImportantesRelacion" value="No" /> No</label>
                    </div>
                    <p class="text-base font-medium mb-2">b) ¿Considera que podría tener algún tipo de conflicto o problema importante con su pareja u otra persona de su entorno en los próximos meses?</p>
                    <div class="flex flex-col space-y-2">
                        <label class="radio-option"><input type="radio" name="conflictoFuturoRelacion" value="Si" /> Sí</label>
                        <label class="radio-option"><input type="radio" name="conflictoFuturoRelacion" value="No" /> No</label>
                    </div>
                </div>
            </section>

            <!-- Pregunta 12 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">12. Durante el ÚLTIMO AÑO, ¿Ha recibido asistencia médica o psicológica derivado de trastornos de estrés (ej. Trastorno de estrés postraumático, depresión, ansiedad o abuso de alcohol u otras sustancias)?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="asistenciaEstres" value="No" /> No</label>
                    <label class="radio-option"><input type="radio" name="asistenciaEstres" value="Si" /> Sí. (Por favor, explique)</label>
                </div>
                <textarea id="asistenciaEstresExplica" name="asistenciaEstresExplica" class="w-full py-2 px-3 mt-2 hidden" placeholder="Explica la asistencia recibida..."></textarea>
            </section>

            <!-- Pregunta 13 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">13. ¿Está tomando ACTUALMENTE algún tipo de medicación o complemento (incluyendo suplementos naturales de hierbas) para dormir, aliviar el dolor, reducir el estrés o ansiedad o algún tipo de problema mental?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="medicacionComplemento" value="No" /> No</label>
                    <label class="radio-option"><input type="radio" name="medicacionComplemento" value="Si" /> Sí. (Por favor, enumere)</label>
                </div>
                <textarea id="medicacionComplementoExplica" name="medicacionComplementoExplica" class="w-full py-2 px-3 mt-2 hidden" placeholder="Enumera la medicación o complementos..."></textarea>
            </section>

            <!-- Pregunta 14 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">14. a) ¿Con qué frecuencia toma bebidas que contienen alcohol?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="frecuenciaAlcohol" value="Nunca" /> Nunca</label>
                    <label class="radio-option"><input type="radio" name="frecuenciaAlcohol" value="Una vez al mes o menos" /> Una vez al mes o menos</label>
                    <label class="radio-option"><input type="radio" name="frecuenciaAlcohol" value="2-4 veces/mes" /> 2-4 veces/mes</label>
                    <label class="radio-option"><input type="radio" name="frecuenciaAlcohol" value="2-3 veces/semana" /> 2-3 veces/semana</label>
                    <label class="radio-option"><input type="radio" name="frecuenciaAlcohol" value="4 o más veces/semana" /> 4 o más veces/semana</label>
                </div>
                <p class="text-lg font-medium mb-3 mt-4">b) ¿Cuántas bebidas alcohólicas toma en un día normal (Ej. Entre semana)?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="cantidadAlcohol" value="1 o 2" /> 1 ó 2</label>
                    <label class="radio-option"><input type="radio" name="cantidadAlcohol" value="3 o 4" /> 3 ó 4</label>
                    <label class="radio-option"><input type="radio" name="cantidadAlcohol" value="5 o 6" /> 5 ó 6</label>
                    <label class="radio-option"><input type="radio" name="cantidadAlcohol" value="Entre 7 y 9" /> Entre 7 y 9</label>
                    <label class="radio-option"><input type="radio" name="cantidadAlcohol" value="10 o mas" /> 10 ó más</label>
                </div>
            </section>

            <!-- Pregunta 15 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">15. Durante EL ÚLTIMO MES, ¿Has vivido alguna experiencia que le haya resultado tan horrible, peligrosa o amenazante que…:</p>
                <div class="grid grid-cols-1 gap-2 mb-4">
                    <div class="flex items-center justify-between">
                        <p class="text-base">a. Has tenido pesadillas o pensamientos recurrentes sobre ello</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="pesadillas" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="pesadillas" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">b. Has intentado no pensar en ello o has evitado situaciones que te recordaban el suceso</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="evitarPensamientos" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="evitarPensamientos" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">c. Te has sentido constantemente en estado de alerta, vigilante o te asustabas fácilmente</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="estadoAlerta" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="estadoAlerta" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">d. Te has sentido distraído o desconectado de tu entorno (actividades y/o personas)</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="distraidoDesconectado" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="distraidoDesconectado" value="NO" /> NO</label>
                        </div>
                    </div>
                </div>

                <div id="q15Table" class="mt-6 p-4 border rounded-lg hidden" style="background-color: rgba(23, 55, 99, 0.05);">
                    <p class="text-sm italic mb-4">NOTA: Si has contestado afirmativamente 2 o más ítems de la pregunta 15 (a-d), responde a las preguntas de la siguiente tabla, si no, continúa con la pregunta 16.</p>
                    <p class="text-lg font-medium mb-4">En esta tabla encontrarás una serie de reacciones que pueden experimentar las personas que están viviendo una situación estresante. Lee detenidamente cada pregunta y marca en qué grado te ha afectado esa situación durante EL ÚLTIMO MES.</p>
                    <div class="overflow-x-auto">
                        <table class="min-w-full rounded-lg shadow-sm" style="background-color: var(--color-armada-white);">
                            <thead>
                                <tr class="uppercase text-sm leading-normal" style="background-color: #e5e7eb; color: #4b5563;">
                                    <th class="py-3 px-6 text-left">Reacción</th>
                                    <th class="py-3 px-2 text-center">Nada</th>
                                    <th class="py-3 px-2 text-center">Un poco</th>
                                    <th class="py-3 px-2 text-center">Algo</th>
                                    <th class="py-3 px-2 text-center">Bastante</th>
                                    <th class="py-3 px-2 text-center">Mucho</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">e. Imágenes o pensamientos recurrentes sobre una experiencia traumática pasada</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_e" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_e" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_e" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_e" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_e" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">f. Sueños desagradables o pesadillas sobre la experiencia traumática</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_f" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_f" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_f" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_f" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_f" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">g. Sentir o actuar como si la experiencia traumática fuera a repetirse de nuevo (o como si la revivieras)</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_g" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_g" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_g" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_g" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_g" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">h. Sentirte molesto o preocupado cuando algo te recuerda la experiencia traumática</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_h" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_h" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_h" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_h" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_h" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">i. Tener reacciones físicas (palpitaciones, sudoración, dificultad para respirar,...) cuando algo te recuerda la experiencia traumática</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_i" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_i" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_i" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_i" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_i" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">j. Evitar pensar o hablar sobre el suceso traumático</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_j" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_j" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_j" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_j" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_j" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">k. Evitar actividades o situaciones que te recuerdan la experiencia traumática</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_k" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_k" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_k" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_k" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_k" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">l. Dificultad para recordar aspectos o partes importantes de la experiencia traumática</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_l" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_l" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_l" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_l" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_l" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">m.Pérdida de interés en cosas o actividades que solías disfrutar</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_m" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_m" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_m" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_m" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_m" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">n.Distanciamiento social y aislamiento</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_n" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_n" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_n" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_n" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_n" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">o. Sentimiento de embotamiento emocional o incapacidad de experimentar sentimientos de amor hacia las personas cercanas</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_o" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_o" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_o" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_o" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_o" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">p. Sentir que tu futuro será truncado</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_p" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_p" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_p" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_p" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_p" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">q.Problemas para conciliar el sueño o mantenerse despierto</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_q" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_q" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_q" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_q" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_q" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">r. Sentirse irritable o tener ataques de ira</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_r" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_r" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_r" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_r" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_r" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">s. Tener problemas de concentración</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_s" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_s" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_s" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_s" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_s" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">t. Sentir que estás en alerta, en guardia o vigilante</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_t" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_t" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_t" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_t" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_t" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">u. Sentirse nervioso o asustarse con facilidad</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_u" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_u" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_u" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_u" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_u" value="Mucho" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">v. ¿En qué medida estos problemas (de la “e” a la “u”) han afectado a tu trabajo, a tu día a día en casa o a tus relaciones personales?</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_v" value="Nada" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_v" value="Un poco" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_v" value="Algo" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_v" value="Bastante" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q15_v" value="Mucho" /></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Pregunta 16 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">16. Durante las últimas 2 SEMANAS, ¿Cuánto te han preocupado los siguientes problemas?</p>
                <div class="grid grid-cols-1 gap-2 mb-4">
                    <div class="flex items-center justify-between">
                        <p class="text-base">a. Pérdida de interés o dificultad para disfrutar de las cosas</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q16_a" value="Nunca" /> Nunca</label>
                            <label class="radio-option"><input type="radio" name="q16_a" value="Algunos días" /> Algunos días</label>
                            <label class="radio-option"><input type="radio" name="q16_a" value="Más de la mitad de los días" /> Más de la mitad de los días</label>
                            <label class="radio-option"><input type="radio" name="q16_a" value="Casi todos los días" /> Casi todos los días</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">b. Sentirse deprimido, desesperanzado o bajo de ánimo</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q16_b" value="Nunca" /> Nunca</label>
                            <label class="radio-option"><input type="radio" name="q16_b" value="Algunos días" /> Algunos días</label>
                            <label class="radio-option"><input type="radio" name="q16_b" value="Más de la mitad de los días" /> Más de la mitad de los días</label>
                            <label class="radio-option"><input type="radio" name="q16_b" value="Casi todos los días" /> Casi todos los días</label>
                        </div>
                    </div>
                </div>

                <div id="q16Table" class="mt-6 p-4 border rounded-lg hidden" style="background-color: rgba(23, 55, 99, 0.05);">
                    <p class="text-sm italic mb-4">NOTA: Si en alguna de las preguntas anteriores (16a o 16b) has contestado “Más de la mitad de los días” o “casi todos los días”, responde a las preguntas de la siguiente tabla. Si no, continúa en la pregunta 17.</p>
                    <p class="text-lg font-medium mb-4">Durante las 2 ÚLTIMAS SEMANAS, ¿Con qué frecuencia has sentido los siguientes problemas?</p>
                    <div class="overflow-x-auto">
                        <table class="min-w-full rounded-lg shadow-sm" style="background-color: var(--color-armada-white);">
                            <thead>
                                <tr class="uppercase text-sm leading-normal" style="background-color: #e5e7eb; color: #4b5563;">
                                    <th class="py-3 px-6 text-left">Problema</th>
                                    <th class="py-3 px-2 text-center">Nunca</th>
                                    <th class="py-3 px-2 text-center">Algunos días</th>
                                    <th class="py-3 px-2 text-center">La mayoría de los días</th>
                                    <th class="py-3 px-2 text-center">Casi todos los días</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">c.Dificultad para dormirse o mantenerse despierto, o dormir demasiado</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_c" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_c" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_c" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_c" value="Casi todos los días" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">d. Sentirse cansado o con poca energía</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_d" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_d" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_d" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_d" value="Casi todos los días" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">e. Falta de apetito o comer más de lo habitual</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_e" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_e" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_e" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_e" value="Casi todos los días" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">f. Sentirte mal contigo mismo (o sentir que eres un fracaso y vas a fallarte a ti mismo y a los demás)</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_f" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_f" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_f" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_f" value="Casi todos los días" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">g. Dificultad para concentrarte en tareas sencillas (como leer el periódico o ver la televisión)</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_g" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_g" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_g" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_g" value="Casi todos los días" /></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-6 text-left whitespace-normal">h. Moverte o hablar muy despacio, hasta el punto de que los demás lo notan. O al contrario, estar muy inquieto y “de un lado para otro”</td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_h" value="Nunca" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_h" value="Algunos días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_h" value="La mayoría de los días" /></td>
                                    <td class="py-3 px-2 text-center"><input type="radio" name="q16_h" value="Casi todos los días" /></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Pregunta 17 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">17. Durante EL ÚLTIMO MES:</p>
                <div class="grid grid-cols-1 gap-2 mb-4">
                    <div class="flex items-center justify-between">
                        <p class="text-base">a. ¿Has pensado que estarías mejor muerto o has deseado estarlo?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_a" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_a" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">b. ¿Has querido hacerte daño a ti mismo?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_b" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_b" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">c. ¿Has pensado en el suicidio?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_c" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_c" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">d. ¿Has intentado suicidarte?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_d" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_d" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">e. ¿Has tenido un plan para quitarte la vida?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_e" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_e" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">f. ¿Alguna vez en tu vida has tenido un intento de suicidio?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q17_f" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q17_f" value="NO" /> NO</label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pregunta 18 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">18. Durante EL ÚLTIMO MES, y hasta ahora:</p>
                <div class="grid grid-cols-1 gap-2 mb-4">
                    <div class="flex items-center justify-between">
                        <p class="text-base">a. ¿Has tenido dificultad para quedarte dormido o mantenerte despierto?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q18_a" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q18_a" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">b. ¿Has sentido que tienes falta de sueño o sueño poco reparador?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q18_b" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q18_b" value="NO" /> NO</label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pregunta 19 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">19. Durante EL ÚLTIMO MES, y hasta ahora:</p>
                <div class="grid grid-cols-1 gap-2 mb-4">
                    <div class="flex items-center justify-between">
                        <p class="text-base">a. ¿Has sentido que no podías controlar el impulso de agredir o herir a otras personas como amigos o compañeros de trabajo?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q19_a" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q19_a" value="NO" /> NO</label>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <p class="text-base">b. ¿Has sentido que estabas a punto de perder el control de tu ira e impulsos?</p>
                        <div class="flex space-x-4">
                            <label class="radio-option"><input type="radio" name="q19_b" value="SI" /> SI</label>
                            <label class="radio-option"><input type="radio" name="q19_b" value="NO" /> NO</label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pregunta 20 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">20. ¿Estás preocupado por tu salud porque consideras que estuviste expuesto a algo en el ambiente mientras estabas navegando?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="preocupacionSaludExposicion" value="No" /> No</label>
                    <label class="radio-option"><input type="radio" name="preocupacionSaludExposicion" value="Si" /> Sí. (Explique)</label>
                </div>
                <textarea id="preocupacionSaludExposicionExplica" name="preocupacionSaludExposicionExplica" class="w-full py-2 px-3 mt-2 hidden" placeholder="Explica tu preocupación..."></textarea>
            </section>

            <!-- Pregunta 21 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">21. ¿Te gustaría pedir una consulta con un psicólogo u otro profesional sanitario para tratar algún tema que te preocupe o recibir información/asesoramiento?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="consultaProfesional" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="consultaProfesional" value="No" /> No</label>
                </div>
            </section>

            <!-- Pregunta 22 -->
            <section class="question-group">
                <p class="text-lg font-medium mb-3">22. ¿Te gustaría recibir asistencia o asesoramiento para tratar un problema familiar?</p>
                <div class="flex flex-col space-y-2">
                    <label class="radio-option"><input type="radio" name="asistenciaFamiliar" value="Si" /> Sí</label>
                    <label class="radio-option"><input type="radio" name="asistenciaFamiliar" value="No" /> No</label>
                </div>
            </section>

            <button
                id="enviar"
                type="submit"
                class="w-full font-bold py-3 px-4 rounded-md focus:outline-none focus:ring-2 transition duration-300 transform hover:scale-105 text-lg"
                style="background-color: var(--color-armada-blue); color: var(--color-armada-white); focus-ring-color: rgba(23, 55, 99, 0.5);"
            >
                Enviar Cuestionario
            </button>
        </form>
    </div>

    <div id="messageBox"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        function showMessage(message, type = 'info') {
            const messageBox = document.getElementById('messageBox');
            messageBox.innerHTML = `
                <div class="modal-overlay">
                    <div class="modal-content">
                        <button class="modal-close-button" onclick="closeMessage()">&times;</button>
                        <p class="${type === 'error' ? 'text-red-600' : 'text-gray-800'} text-lg font-medium">${message}</p>
                    </div>
                </div>
            `;
            messageBox.classList.remove('hidden');
        }

        function closeMessage() {
            const messageBox = document.getElementById('messageBox');
            messageBox.innerHTML = '';
        }

        const supabaseUrl = 'https://syscmsennlikqzikbznl.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5c2Ntc2Vubmxpa3F6aWtiem5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0MTQ0MDcsImV4cCI6MjA2NTk5MDQwN30.I5cQJNCEFtF1NAIypmgMBYAIiVnSyhu_7C1WhKzCVxE';

        const supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey);

        function getRadioValue(name) {
            const radios = document.getElementsByName(name);
            for (const radio of radios) {
                if (radio.checked) {
                    return radio.value;
                }
            }
            return null;
        }

        function getCheckboxValues(name) {
            const checkboxes = document.getElementsByName(name);
            const values = [];
            for (const checkbox of checkboxes) {
                if (checkbox.checked) {
                    values.push(checkbox.value);
                }
            }
            return values;
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('input[name="saludComparada"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const textarea = document.getElementById('saludComparadaPorQue');
                    if (event.target.value.includes('peor')) {
                        textarea.classList.remove('hidden');
                    } else {
                        textarea.classList.add('hidden');
                        textarea.value = '';
                    }
                });
            });

            document.querySelectorAll('input[name="lesionAccidente"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const followUpDiv = document.getElementById('lesionAccidenteFollowUp');
                    if (event.target.value === 'Si') {
                        followUpDiv.classList.remove('hidden');
                    } else {
                        followUpDiv.classList.add('hidden');
                        document.querySelectorAll('input[name="problemasLesion"]').forEach(r => r.checked = false);
                    }
                });
            });

            document.querySelectorAll('input[name="acontecimientoPreocupante"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const textarea = document.getElementById('acontecimientoPreocupanteExplica');
                    const followUpDiv = document.getElementById('acontecimientoPreocupanteFollowUp');
                    if (event.target.value === 'Si') {
                        textarea.classList.remove('hidden');
                        followUpDiv.classList.remove('hidden');
                    } else {
                        textarea.classList.add('hidden');
                        textarea.value = '';
                        followUpDiv.classList.add('hidden');
                        document.querySelectorAll('input[name="tratamientoAcontecimiento"]').forEach(r => r.checked = false);
                    }
                });
            });

            document.getElementById('otroSintomaCheckbox').addEventListener('change', (event) => {
                const textarea = document.getElementById('otroSintomaExplica');
                if (event.target.checked) {
                    textarea.classList.remove('hidden');
                } else {
                    textarea.classList.add('hidden');
                    textarea.value = '';
                }
            });

            const relacionSentimentalRadios = document.querySelectorAll('input[name="relacionSentimental"]');
            const procesoSeparacionRadios = document.querySelectorAll('input[name="procesoSeparacion"]');
            const relacionesFollowUpDiv = document.getElementById('relacionesFollowUp');

            const updateRelacionesFollowUpVisibility = () => {
                const isRelacionSentimentalSi = getRadioValue('relacionSentimental') === 'Si';
                const isProcesoSeparacionSi = getRadioValue('procesoSeparacion') === 'Si';

                if (isRelacionSentimentalSi || isProcesoSeparacionSi) {
                    relacionesFollowUpDiv.classList.remove('hidden');
                } else {
                    relacionesFollowUpDiv.classList.add('hidden');
                    document.querySelectorAll('input[name="problemasImportantesRelacion"]').forEach(r => r.checked = false);
                    document.querySelectorAll('input[name="conflictoFuturoRelacion"]').forEach(r => r.checked = false);
                }
            };

            relacionSentimentalRadios.forEach(radio => radio.addEventListener('change', updateRelacionesFollowUpVisibility));
            procesoSeparacionRadios.forEach(radio => radio.addEventListener('change', updateRelacionesFollowUpVisibility));

            document.querySelectorAll('input[name="asistenciaEstres"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const textarea = document.getElementById('asistenciaEstresExplica');
                    if (event.target.value === 'Si') {
                        textarea.classList.remove('hidden');
                    } else {
                        textarea.classList.add('hidden');
                        textarea.value = '';
                    }
                });
            });

            document.querySelectorAll('input[name="medicacionComplemento"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const textarea = document.getElementById('medicacionComplementoExplica');
                    if (event.target.value === 'Si') {
                        textarea.classList.remove('hidden');
                    } else {
                        textarea.classList.add('hidden');
                        textarea.value = '';
                    }
                });
            });

            const q15_a = document.querySelector('input[name="pesadillas"][value="SI"]');
            const q15_b = document.querySelector('input[name="evitarPensamientos"][value="SI"]');
            const q15_c = document.querySelector('input[name="estadoAlerta"][value="SI"]');
            const q15_d = document.querySelector('input[name="distraidoDesconectado"][value="SI"]');
            const q15Table = document.getElementById('q15Table');

            const updateQ15TableVisibility = () => {
                let siCount = 0;
                if (q15_a && q15_a.checked) siCount++;
                if (q15_b && q15_b.checked) siCount++;
                if (q15_c && q15_c.checked) siCount++;
                if (q15_d && q15_d.checked) siCount++;

                if (siCount >= 2) {
                    q15Table.classList.remove('hidden');
                } else {
                    q15Table.classList.add('hidden');
                    q15Table.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
                }
            };

            document.querySelectorAll('input[name="pesadillas"], input[name="evitarPensamientos"], input[name="estadoAlerta"], input[name="distraidoDesconectado"]').forEach(radio => {
                radio.addEventListener('change', updateQ15TableVisibility);
            });

            const q16_a_radios = document.querySelectorAll('input[name="q16_a"]');
            const q16_b_radios = document.querySelectorAll('input[name="q16_b"]');
            const q16Table = document.getElementById('q16Table');

            const updateQ16TableVisibility = () => {
                const q16_a_val = getRadioValue('q16_a');
                const q16_b_val = getRadioValue('q16_b');

                if (q16_a_val === 'Más de la mitad de los días' || q16_a_val === 'Casi todos los días' ||
                    q16_b_val === 'Más de la mitad de los días' || q16_b_val === 'Casi todos los días') {
                    q16Table.classList.remove('hidden');
                } else {
                    q16Table.classList.add('hidden');
                    q16Table.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
                }
            };

            q16_a_radios.forEach(radio => radio.addEventListener('change', updateQ16TableVisibility));
            q16_b_radios.forEach(radio => radio.addEventListener('change', updateQ16TableVisibility));

            document.querySelectorAll('input[name="preocupacionSaludExposicion"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const textarea = document.getElementById('preocupacionSaludExposicionExplica');
                    if (event.target.value === 'Si') {
                        textarea.classList.remove('hidden');
                    } else {
                        textarea.classList.add('hidden');
                        textarea.value = '';
                    }
                });
            });
        });

        document.getElementById('enviar').addEventListener('click', async (event) => {
            event.preventDefault();

            const formData = {
                nombre: document.getElementById('nombre').value.trim(),
                apellidos: document.getElementById('apellidos').value.trim(),
                dni: document.getElementById('dni').value.trim(),
                empleo: document.getElementById('empleo').value.trim(),
                destino: document.getElementById('destino').value.trim(),
                ultimoDespliegue: document.getElementById('ultimoDespliegue').value.trim(),
                telefonoContacto: document.getElementById('telefonoContacto').value.trim(),
                saludGeneral: getRadioValue('saludGeneral'),
                saludComparada: getRadioValue('saludComparada'),
                saludComparadaPorQue: document.getElementById('saludComparadaPorQue').value.trim(),
                problemasSalud: getRadioValue('problemasSalud'),
                problemasEmocionales: getRadioValue('problemasEmocionales'),
                visitasMedico: getRadioValue('visitasMedico'),
                hospitalizado: getRadioValue('hospitalizado'),
                lesionAccidente: getRadioValue('lesionAccidente'),
                problemasLesion: getRadioValue('problemasLesion'),
                peligroMuerte: getRadioValue('peligroMuerte'),
                vioCadaveres: getRadioValue('vioCadaveres'),
                combateArma: getRadioValue('combateArma'),
                acontecimientoPreocupante: getRadioValue('acontecimientoPreocupante'),
                acontecimientoPreocupanteExplica: document.getElementById('acontecimientoPreocupanteExplica').value.trim(),
                tratamientoAcontecimiento: getRadioValue('tratamientoAcontecimiento'),
                sintomasPreocupantes: getCheckboxValues('sintomas'),
                otroSintomaExplica: document.getElementById('otroSintomaExplica').value.trim(),
                relacionSentimental: getRadioValue('relacionSentimental'),
                procesoSeparacion: getRadioValue('procesoSeparacion'),
                problemasImportantesRelacion: getRadioValue('problemasImportantesRelacion'),
                conflictoFuturoRelacion: getRadioValue('conflictoFuturoRelacion'),
                asistenciaEstres: getRadioValue('asistenciaEstres'),
                asistenciaEstresExplica: document.getElementById('asistenciaEstresExplica').value.trim(),
                medicacionComplemento: getRadioValue('medicacionComplemento'),
                medicacionComplementoExplica: document.getElementById('medicacionComplementoExplica').value.trim(),
                frecuenciaAlcohol: getRadioValue('frecuenciaAlcohol'),
                cantidadAlcohol: getRadioValue('cantidadAlcohol'),
                q15_pesadillas: getRadioValue('pesadillas'),
                q15_evitarPensamientos: getRadioValue('evitarPensamientos'),
                q15_estadoAlerta: getRadioValue('estadoAlerta'),
                q15_distraidoDesconectado: getRadioValue('distraidoDesconectado'),
                q15_e: getRadioValue('q15_e'),
                q15_f: getRadioValue('q15_f'),
                q15_g: getRadioValue('q15_g'),
                q15_h: getRadioValue('q15_h'),
                q15_i: getRadioValue('q15_i'),
                q15_j: getRadioValue('q15_j'),
                q15_k: getRadioValue('q15_k'),
                q15_l: getRadioValue('q15_l'),
                q15_m: getRadioValue('q15_m'),
                q15_n: getRadioValue('q15_n'),
                q15_o: getRadioValue('q15_o'),
                q15_p: getRadioValue('q15_p'),
                q15_q: getRadioValue('q15_q'),
                q15_r: getRadioValue('q15_r'),
                q15_s: getRadioValue('q15_s'),
                q15_t: getRadioValue('q15_t'),
                q15_u: getRadioValue('q15_u'),
                q15_v: getRadioValue('q15_v'),
                q16_a: getRadioValue('q16_a'),
                q16_b: getRadioValue('q16_b'),
                q16_c: getRadioValue('q16_c'),
                q16_d: getRadioValue('q16_d'),
                q16_e: getRadioValue('q16_e'),
                q16_f: getRadioValue('q16_f'),
                q16_g: getRadioValue('q16_g'),
                q16_h: getRadioValue('q16_h'),
                q17_a: getRadioValue('q17_a'),
                q17_b: getRadioValue('q17_b'),
                q17_c: getRadioValue('q17_c'),
                q17_d: getRadioValue('q17_d'),
                q17_e: getRadioValue('q17_e'),
                q17_f: getRadioValue('q17_f'),
                q18_a: getRadioValue('q18_a'),
                q18_b: getRadioValue('q18_b'),
                q19_a: getRadioValue('q19_a'),
                q19_b: getRadioValue('q19_b'),
                preocupacionSaludExposicion: getRadioValue('preocupacionSaludExposicion'),
                preocupacionSaludExposicionExplica: document.getElementById('preocupacionSaludExposicionExplica').value.trim(),
                consultaProfesional: getRadioValue('consultaProfesional'),
                asistenciaFamiliar: getRadioValue('asistenciaFamiliar'),
            };

            if (!formData.dni || !formData.nombre || !formData.apellidos) {
                showMessage('Por favor, rellena al menos los campos de DNI, Nombre y Apellidos.', 'error');
                return;
            }

            try {
                const { data, error } = await supabaseClient
                    .from('respuestas')
                    .insert([{ dni: formData.dni, respuestas_completas: formData }]);

                if (error) {
                    showMessage('Error al enviar el cuestionario: ' + error.message, 'error');
                    console.error('Supabase insert error:', error);
                } else {
                    showMessage('Cuestionario enviado correctamente. ¡Gracias por su colaboración!');
                    document.getElementById('questionnaireForm').reset();
                    document.getElementById('saludComparadaPorQue').classList.add('hidden');
                    document.getElementById('lesionAccidenteFollowUp').classList.add('hidden');
                    document.getElementById('acontecimientoPreocupanteExplica').classList.add('hidden');
                    document.getElementById('acontecimientoPreocupanteFollowUp').classList.add('hidden');
                    document.getElementById('otroSintomaExplica').classList.add('hidden');
                    document.getElementById('relacionesFollowUp').classList.add('hidden');
                    document.getElementById('asistenciaEstresExplica').classList.add('hidden');
                    document.getElementById('medicacionComplementoExplica').classList.add('hidden');
                    document.getElementById('q15Table').classList.add('hidden');
                    document.getElementById('q16Table').classList.add('hidden');
                    document.getElementById('preocupacionSaludExposicionExplica').classList.add('hidden');
                }
            } catch (e) {
                showMessage('Ha ocurrido un error inesperado al enviar: ' + e.message, 'error');
                console.error('Unexpected send error:', e);
            }
        });
    </script>
</body>
</html>
